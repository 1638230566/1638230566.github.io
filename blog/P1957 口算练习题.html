<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="blog-uid" content="1031647">
    <meta name="blog-name" content="残秋の江">
    <meta name="current-user" content="1031647">
    <meta name="theme-settings"
          content="{&quot;config&quot;:{&quot;background&quot;:{&quot;header&quot;:&quot;&quot;},&quot;color&quot;:{&quot;primary&quot;:&quot;indigo&quot;,&quot;accent&quot;:&quot;pink&quot;},&quot;show_icon&quot;:false}}">
    <link rel="stylesheet" href="https://www.luogu.com.cn/static/blog/mdblog/common.css">
    <link rel="stylesheet" href="https://www.luogu.com.cn/static/blog/mdblog/article.css">
    <title>P1957 口算练习题, 非sscanf和sprintf的写法 - 残秋の江 - 洛谷博客</title>
    <script charset="utf-8" src="https://www.luogu.com.cn/static/blog/mdblog/22.js"></script>
    <script charset="utf-8" src="https://www.luogu.com.cn/static/blog/mdblog/34.js"></script>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body class="mdui-theme-primary-indigo mdui-theme-accent-pink mdui-loaded">
<nav class="navbar navbar-default">
    <nav class="navbar navbar-fixed-top navbar-default">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"> DataErr0r</a>
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navBar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse navbar-right" id="navBar">
                <ul class="nav navbar-nav">
                    <li><a href="/home/">首页</a></li>
                    <li><a href="/about/">关于我们</a></li>
                    <li><a href="/blog/">返回</a></li>
                    <li><a href="/what/">知识问答</a></li>
                </ul>
            </div>
        </div>
    </nav>
</nav>

<main class="mdui-container-fluid" style="margin-top: 20px;">
    <section id="main-container" class=" mdui-col-md-8 mdui-col-offset-md-2">
        <div id="blog-container" data-blogid="599391" data-vote="0" data-thumbup="0">
            <div class="mdblog-article-container mdui-shadow-2 mdui-hoverable">
                <div class="mdui-typo-display-1-opacity">P1957 口算练习题, 非sscanf和sprintf的写法</div>
                <br>
                <div style="margin-bottom: 8px;">
                    <div class="mdui-typo-caption-opacity  mdblog-article-time mdui-float-left">2023-07-18 17:14:09
                    </div>
                </div>
                <br>
                <div class="mdui-typo">
                    <hr>
                </div>
                <div class="mdui-typo mdblog-article-content" id="article-content">
                    <h2>题意</h2>
                    <p>第一个数据表示运算类型，a 表示加法运算，b 表示减法运算，c
                        表示乘法运算，接着的两个数据表示参加运算的运算数。若该行为两个数据，则表示本题的运算类型与上一题的运算类型相同，而这两个数据为运算数。对于每个输入的算式，输出完整的运算式及结果，第二行输出该运算式的总长度</p>
                    <h2>思路</h2>
                    <p>我们先定义三个字符串<span><span class="katex"><span class="katex-mathml"><math
                            xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">opt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.80952em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span
                            class="mord mathdefault">t</span></span></span></span></span>, <span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation
                            encoding="application/x-tex">a</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.43056em; vertical-align: 0em;"></span><span
                            class="mord mathdefault">a</span></span></span></span></span>, <span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation
                            encoding="application/x-tex">b</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.69444em; vertical-align: 0em;"></span><span
                            class="mord mathdefault">b</span></span></span></span></span>, 先输入<span><span class="katex"><span
                            class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">opt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.80952em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span
                            class="mord mathdefault">t</span></span></span></span></span>如果<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">opt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.80952em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span
                            class="mord mathdefault">t</span></span></span></span></span>为<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo
                            separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation
                            encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.88888em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">c</span></span></span></span></span>则再输入<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation
                            encoding="application/x-tex">a</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.43056em; vertical-align: 0em;"></span><span
                            class="mord mathdefault">a</span></span></span></span></span>, <span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation
                            encoding="application/x-tex">b</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.69444em; vertical-align: 0em;"></span><span
                            class="mord mathdefault">b</span></span></span></span></span>并将状态变量<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">zt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.61508em; vertical-align: 0em;"></span><span
                            class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span
                            class="mord mathdefault">t</span></span></span></span></span>更新为不是为<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo
                            separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation
                            encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.88888em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">c</span></span></span></span></span>的情况做准备，如果不为<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo
                            separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation
                            encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.88888em; vertical-align: -0.19444em;"></span><span
                            class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">b</span><span class="mpunct">,</span><span class="mspace"
                                                                                                style="margin-right: 0.166667em;"></span><span
                            class="mord mathdefault">c</span></span></span></span></span>则根据<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">zt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.61508em; vertical-align: 0em;"></span><span
                            class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span
                            class="mord mathdefault">t</span></span></span></span></span>输出算式，而输出需要根据<span><span
                            class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mi>t</mi></mrow><annotation
                            encoding="application/x-tex">zt</annotation></semantics></math></span><span
                            class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                                                                                           style="height: 0.61508em; vertical-align: 0em;"></span><span
                            class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span
                            class="mord mathdefault">t</span></span></span></span></span>来输出
                    </p>
                    <h2>code</h2>
                    <pre><code class="language-cpp hljs"><span class="hljs-comment">//Code written by Li Zexuan (Looks handsome)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span
                                class="hljs-built_in">std</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span> <span
        class="hljs-params">(<span class="hljs-keyword">int</span> zt, <span
        class="hljs-built_in">string</span> a, <span class="hljs-built_in">string</span> b)</span> </span>{
    <span class="hljs-keyword">if</span> (zt == <span class="hljs-number">1</span>) {
        <span class="hljs-built_in">string</span> sp = to_string(stoi(a) + stoi(b));
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d+%d=%d\n%d\n"</span>, stoi(a), stoi(b), stoi(a) + stoi(b), a.size() + b.size() + sp.size() + <span
                                class="hljs-number">2</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (zt == <span
                                class="hljs-number">2</span>) {
        <span class="hljs-built_in">string</span> sp = to_string(stoi(a) - stoi(b));
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d-%d=%d\n%d\n"</span>, stoi(a), stoi(b), stoi(a) - stoi(b), a.size() + b.size() + sp.size() + <span
                                class="hljs-number">2</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">string</span> sp = to_string(stoi(a) * stoi(b));
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d*%d=%d\n%d\n"</span>, stoi(a), stoi(b), stoi(a) * stoi(b), a.size() + b.size() + sp.size() + <span
                                class="hljs-number">2</span>);
    }
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span
        class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> n, zt;
    <span class="hljs-built_in">string</span> opt, a, b;
    <span class="hljs-built_in">cin</span> &gt;&gt; n;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
        <span class="hljs-built_in">cin</span> &gt;&gt; opt;
        <span class="hljs-keyword">if</span> (opt == <span class="hljs-string">"a"</span> || opt == <span
                                class="hljs-string">"b"</span> || opt == <span class="hljs-string">"c"</span>) {
            <span class="hljs-keyword">if</span> (opt == <span class="hljs-string">"a"</span>) {
                zt = <span class="hljs-number">1</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opt == <span
                                class="hljs-string">"b"</span>) {
                zt = <span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                zt = <span class="hljs-number">3</span>;
            }
            <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b;
            print(zt, a, b);
        } <span class="hljs-keyword">else</span> {
            a = opt;
            <span class="hljs-built_in">cin</span> &gt;&gt; b;
            print(zt, a, b);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
                </div>
            </div>

        </div>

        <link rel="stylesheet" href="https://www.luogu.com.cn/static/blog/mdblog/katex.css">
    </section>

</main>

<section>
    <div class="mdui-drawer mdui-drawer-close" id="mdblog-drawer">
        <ul class="mdui-list">
            <li onclick="window.location.href='.';" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons">star</i>
                <div class="mdui-list-item-content">首页</div>
            </li>
            <li onclick="window.location.href='https://www.luogu.com.cn/blogAdmin';" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons">error</i>
                <div class="mdui-list-item-content">管理后台</div>
            </li>
        </ul>
    </div>
</section>
<br>


<script>
    window.BlogGlobals = {
        blogName: document.querySelector('meta[name=blog-name]').getAttribute('content'),
        blogUID: parseInt(document.querySelector('meta[name=blog-uid]').getAttribute('content')),
        currentUser: parseInt(document.querySelector('meta[name=current-user]').getAttribute('content')),
        luoguAddress: 'https://www.luogu.com.cn',
        picAddress: 'https://cdn.luogu.com.cn',
        config: JSON.parse(document.querySelector('meta[name=theme-settings]').getAttribute('content'))
    }
    BlogGlobals.isBlogAdmin = BlogGlobals.blogUID === BlogGlobals.currentUser;
</script>
<script src="https://www.luogu.com.cn/static/blog/mdblog/common.js"></script>
<script>
    var blogContainer = document.getElementById('blog-container')
    BlogGlobals.blogID = parseInt(blogContainer.getAttribute('data-blogid'))
    BlogGlobals.vote = parseInt(blogContainer.getAttribute('data-vote'))
    BlogGlobals.thumbUp = parseInt(blogContainer.getAttribute('data-thumbUp'))
</script>
<script src="https://www.luogu.com.cn/static/blog/mdblog/article.js"></script>


</body>
</html>